#OMZSH
export ZSH="${HOME}/.oh-my-zsh"
ZSH_THEME="robbyrussell"
plugins=(git)
source $ZSH/oh-my-zsh.sh

# General ShellRC file
source ${HOME}/dotfiles/shell/shellrc

export MANPATH="/usr/local/man:$MANPATH"
export LANG=en_US.UTF-8
export LC_ALL=en_GB.UTF-8
export BREWPATH='/opt/homebrew'
#package manager
export PATH="${BREWPATH}/bin:\
${BREWPATH}/bin:\
${BREWPATH}/opt/openssl/bin:\
${BREWPATH}/opt/ruby/bin:\
${BREWPATH}/lib/ruby/gems/2.5.0/bin:\
${BREWPATH}/opt/rabbitmq/sbin:\
${BREWPATH}/sbin:\
${BREWPATH}/Cellar/hdf5/1.10.5_1/bin:\
$HOME/.node/bin:\
/opt/local/bin:/opt/local/sbin:\
$PATH"

export LDFLAGS="-L${BREWPATH}/opt/openssl/lib"
export CPPFLAGS="-I${BREWPATH}/opt/openssl/include"
export PKG_CONFIG_PATH="${BREWPATH}/opt/openssl/lib/pkgconfig"
export LDFLAGS="-L${BREWPATH}/opt/openblas/lib"
export CPPFLAGS="-I${BREWPATH}/opt/openblas/include"
#ruby settings

export LDFLAGS="-L${BREWPATH}/opt/ruby/lib"
export CPPFLAGS="-I${BREWPATH}/opt/ruby/include"
export PKG_CONFIG_PATH="${BREWPATH}/opt/ruby/lib/pkgconfig"
export CLICOLOR=1
export LSCOLORS=ExFxBxDxCxegedabagacad
# Finished adapting your PATH environment variable for use with MacPorts.
# export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${BREWPATH}/Cellar/hdf5/1.10.5_1/lib/lib
# export DYLD_LIBRARY_PATH=$DYLD_LIBRARY_PATH:${BREWPATH}/Cellar/hdf5/1.10.5_1/lib/lib

# Variables
NODE_PATH="$HOME/.node/lib/node_modules:$NODE_PATH"
MANPATH="$HOME/.node/share/man:$MANPATH"
EDITOR=nvim

# Functions
function usync() {
    rsync -airzv --exclude-from="$HOME/dotfiles/shell/rsync_exclude.txt" $2 -e ssh $1:$3
}
bindkey '^[^M' self-insert-unmeta

arch_name="$(uname -m)"
if [ "${arch_name}" = "arm64" ]; then
    # >>> conda initialize >>>
    # !! Contents within this block are managed by 'conda init' !!
    __conda_setup="$('/opt/homebrew/Caskroom/miniforge/base/bin/conda' 'shell.zsh' 'hook' 2>/dev/null)"
    if [ $? -eq 0 ]; then
        eval "$__conda_setup"
    else
        if [ -f "/opt/homebrew/Caskroom/miniforge/base/etc/profile.d/conda.sh" ]; then
            . "/opt/homebrew/Caskroom/miniforge/base/etc/profile.d/conda.sh"
        else
            export PATH="/opt/homebrew/Caskroom/miniforge/base/bin:$PATH"
        fi
    fi
    unset __conda_setup
    # <<< conda initialize <<<
fi
