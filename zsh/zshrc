# Author: @anoopkcn
# License: MIT

setopt extended_glob null_glob
path=(
    /Users/akc/.local/bin
    /Library/TeX/texbin
    /Users/akc/develop/zenv/zig-out/bin
    $path
)
typeset -U path
path=($^path(N-/))
export PATH
export EDITOR='nvim'
export VIRTUAL_ENV_DISABLE_PROMPT=1
export CONDA_CHANGEPS1=no
export MANPATH="$MANPATH:${HOME}/programming/c-man:${HOME}/programming/python-man"

# INPUTRC
bindkey "^[[A" history-search-backward
bindkey "^[[B" history-search-forward
bindkey '^y' autosuggest-accept
bindkey -e

# HISTORY OPTIONS
HISTFILE=$HOME/.zsh_history
HISTSIZE=10000
SAVEHIST=$HISTSIZE
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE
setopt SHARE_HISTORY

# FUNCTIONS
source_file() {  [ -f "$1" ] && source "$1"  }
path() { echo -e ${PATH//:/\\n} }

source_file $HOME/.privaterc
source_file $HOME/.config/zsh/plugin-manager.sh
source_file $HOME/.config/zsh/minimal-prompt.sh

# ALIAS
alias ls="ls --color=auto"
alias vim='nvim'
alias duh="du -h -d 0 [^.]*"
alias sync="rsync -macviz --exclude-from=${HOME}/.config/zsh/rsyncignore"
alias imgcat="viu" # show images in terminal
alias notes="nvim ~/Dropbox/notes/"

# PLUGINS
plugin add "zshzoo/macos"
plugin add "zsh-users/zsh-syntax-highlighting"
# plugin add "zsh-users/zsh-autosuggestions"
# plugin add "zsh-users/zsh-completions"
plugin add "anoopkcn/zig-shell-completions"

# plugin settings
autoload -Uz compinit && compinit
if [ -n "$ZSH_VERSION" ]; then
    zstyle ':completion:*' matcher-list 'm:{a-z}={A-Za-z}'

fi
# TOOLS
if [ -n "$BASH_VERSION" ] || [ -n "$ZSH_VERSION" ]; then
    # Homebrew environment setup
    if command -v brew >/dev/null 2>&1; then
        eval "$(brew shellenv)"
    fi
fi

